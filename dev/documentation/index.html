<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Documentation · TensorCrossInterpolation.jl</title><meta name="title" content="Documentation · TensorCrossInterpolation.jl"/><meta property="og:title" content="Documentation · TensorCrossInterpolation.jl"/><meta property="twitter:title" content="Documentation · TensorCrossInterpolation.jl"/><meta name="description" content="Documentation for TensorCrossInterpolation.jl."/><meta property="og:description" content="Documentation for TensorCrossInterpolation.jl."/><meta property="twitter:description" content="Documentation for TensorCrossInterpolation.jl."/><meta property="og:url" content="https://github.com/tensor4all/TensorCrossInterpolation.jl/documentation/"/><meta property="twitter:url" content="https://github.com/tensor4all/TensorCrossInterpolation.jl/documentation/"/><link rel="canonical" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/documentation/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TensorCrossInterpolation.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Documentation</a><ul class="internal"><li><a class="tocitem" href="#Matrix-approximation"><span>Matrix approximation</span></a></li><li><a class="tocitem" href="#Tensor-trains-and-tensor-cross-Interpolation"><span>Tensor trains and tensor cross Interpolation</span></a></li><li><a class="tocitem" href="#Helpers-and-utility-methods"><span>Helpers and utility methods</span></a></li></ul></li><li><a class="tocitem" href="../implementation/">Implementation details</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/tensor4all/TensorCrossInterpolation.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/main/docs/src/documentation.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h1><p>Documentation of all types and methods in module <a href="https://github.com/tensor4all/TensorCrossInterpolation.jl">TensorCrossInterpolation</a>.</p><h2 id="Matrix-approximation"><a class="docs-heading-anchor" href="#Matrix-approximation">Matrix approximation</a><a id="Matrix-approximation-1"></a><a class="docs-heading-anchor-permalink" href="#Matrix-approximation" title="Permalink"></a></h2><h3 id="Matrix-cross-interpolation-(MCI)"><a class="docs-heading-anchor" href="#Matrix-cross-interpolation-(MCI)">Matrix cross interpolation (MCI)</a><a id="Matrix-cross-interpolation-(MCI)-1"></a><a class="docs-heading-anchor-permalink" href="#Matrix-cross-interpolation-(MCI)" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.MatrixCI" href="#TensorCrossInterpolation.MatrixCI"><code>TensorCrossInterpolation.MatrixCI</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct MatrixCrossInterpolation{T}</code></pre><p>Represents a cross interpolation of a matrix - or, to be more precise, the data necessary to evaluate a cross interpolation. This data can be fed into various methods such as evaluate(c, i, j) to get interpolated values, and be improved by dynamically adding pivots.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixci.jl#L29-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.AinvtimesB-Tuple{AbstractMatrix, AbstractVecOrMat}" href="#TensorCrossInterpolation.AinvtimesB-Tuple{AbstractMatrix, AbstractVecOrMat}"><code>TensorCrossInterpolation.AinvtimesB</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AtimesBinv(A::Matrix, B::Matrix)</code></pre><p>Calculates the matrix product <span>$A^{-1} B$</span>, given a square matrix <span>$A$</span> and a rectangular matrix <span>$B$</span> in a numerically stable way using QR decomposition. This is useful in case <span>$A^{-1}$</span> is ill-conditioned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixci.jl#L18-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.AtimesBinv-Tuple{AbstractVecOrMat, AbstractMatrix}" href="#TensorCrossInterpolation.AtimesBinv-Tuple{AbstractVecOrMat, AbstractMatrix}"><code>TensorCrossInterpolation.AtimesBinv</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AtimesBinv(A::Matrix, B::Matrix)</code></pre><p>Calculates the matrix product <span>$A B^{-1}$</span>, given a rectangular matrix <span>$A$</span> and a square matrix <span>$B$</span> in a numerically stable way using QR decomposition. This is useful in case <span>$B^{-1}$</span> is ill-conditioned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixci.jl#L2-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.addpivot!-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixCI{T}, AbstractMatrix{T}, Union{Pair{Int64, Int64}, Tuple{Int64, Int64}, CartesianIndex{2}}}} where T" href="#TensorCrossInterpolation.addpivot!-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixCI{T}, AbstractMatrix{T}, Union{Pair{Int64, Int64}, Tuple{Int64, Int64}, CartesianIndex{2}}}} where T"><code>TensorCrossInterpolation.addpivot!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function addpivot(
    a::AbstractMatrix{T},
    ci::MatrixCrossInterpolation{T},
    pivotindices::AbstractArray{T, 2})</code></pre><p>Add a new pivot given by <code>pivotindices</code> to the cross interpolation <code>ci</code> of the matrix <code>a</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixci.jl#L208-L215">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.addpivot!-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixCI{T}, AbstractMatrix{T}}} where T" href="#TensorCrossInterpolation.addpivot!-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixCI{T}, AbstractMatrix{T}}} where T"><code>TensorCrossInterpolation.addpivot!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function addpivot(
    a::AbstractMatrix{T},
    ci::MatrixCrossInterpolation{T})</code></pre><p>Add a new pivot that maximizes the error to the cross interpolation <code>ci</code> of the matrix <code>a</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixci.jl#L245-L251">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.crossinterpolate-Union{Tuple{AbstractMatrix{T}}, Tuple{T}} where T" href="#TensorCrossInterpolation.crossinterpolate-Union{Tuple{AbstractMatrix{T}}, Tuple{T}} where T"><code>TensorCrossInterpolation.crossinterpolate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function crossinterpolate(
    a::AbstractMatrix{T};
    tolerance=1e-6,
    maxiter=200,
    firstpivot=argmax(abs.(a))
) where {T}</code></pre><p>Cross interpolate a <span>$m\times n$</span> matrix <span>$a$</span>, i.e. find a set of indices <span>$I$</span> and <span>$J$</span>, such that <span>$a(1\ldots m, 1\ldots n) \approx a(1\ldots m, I) (a(I, J))^{-1} a(J, 1\ldots m)$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixci.jl#L259-L270">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.findnewpivot-Union{Tuple{T}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}, Vector{Int64}}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}, Vector{Int64}, Vector{Int64}}} where T" href="#TensorCrossInterpolation.findnewpivot-Union{Tuple{T}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}, Vector{Int64}}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}, Vector{Int64}, Vector{Int64}}} where T"><code>TensorCrossInterpolation.findnewpivot</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">findnewpivot(
    a::AbstractMatrix{T},
    ci::MatrixCrossInterpolation{T},
    row_indices::Union{Vector{Int}},
    col_indices::Union{Vector{Int}})</code></pre><p>Finds the pivot that maximizes the local error across all components of <code>a</code> and <code>ci</code> within the subset given by <code>rowindices</code> and <code>colindices</code>. By default, all avalable rows of <code>ci</code> will be considered.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstractmatrixci.jl#L70-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.localerror-Union{Tuple{T}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}, Union{Colon, Int64, AbstractVector{Int64}}}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}, Union{Colon, Int64, AbstractVector{Int64}}, Union{Colon, Int64, AbstractVector{Int64}}}} where T" href="#TensorCrossInterpolation.localerror-Union{Tuple{T}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}, Union{Colon, Int64, AbstractVector{Int64}}}, Tuple{TensorCrossInterpolation.AbstractMatrixCI{T}, AbstractMatrix{T}, Union{Colon, Int64, AbstractVector{Int64}}, Union{Colon, Int64, AbstractVector{Int64}}}} where T"><code>TensorCrossInterpolation.localerror</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">localerror(
    a::AbstractMatrix{T},
    ci::MatrixCrossInterpolation{T},
    row_indices::Union{AbstractVector{Int},Colon,Int}=Colon(),
    col_indices::Union{AbstractVector{Int},Colon,Int}=Colon())</code></pre><p>Returns all local errors of the cross interpolation ci with respect to matrix a. To find local errors on a submatrix, specify row<em>indices or col</em>indices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstractmatrixci.jl#L51-L60">source</a></section></article><h3 id="Adaptive-cross-approximation-(ACA)"><a class="docs-heading-anchor" href="#Adaptive-cross-approximation-(ACA)">Adaptive cross approximation (ACA)</a><a id="Adaptive-cross-approximation-(ACA)-1"></a><a class="docs-heading-anchor-permalink" href="#Adaptive-cross-approximation-(ACA)" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.addpivot!-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixACA{T}, AbstractMatrix{T}, Union{Pair{Int64, Int64}, Tuple{Int64, Int64}, CartesianIndex{2}}}} where T" href="#TensorCrossInterpolation.addpivot!-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixACA{T}, AbstractMatrix{T}, Union{Pair{Int64, Int64}, Tuple{Int64, Int64}, CartesianIndex{2}}}} where T"><code>TensorCrossInterpolation.addpivot!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function addpivot!(a::AbstractMatrix{T}, aca::MatrixACA{T})</code></pre><p>Find and add a new pivot according to the ACA algorithm in Kumar 2016 ()</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixaca.jl#L96-L100">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.uk-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixACA{T}, Any}} where T" href="#TensorCrossInterpolation.uk-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixACA{T}, Any}} where T"><code>TensorCrossInterpolation.uk</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compute u_k(x) for all x</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixaca.jl#L55-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.vk-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixACA{T}, Any}} where T" href="#TensorCrossInterpolation.vk-Union{Tuple{T}, Tuple{TensorCrossInterpolation.MatrixACA{T}, Any}} where T"><code>TensorCrossInterpolation.vk</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compute v_k(y) for all y</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixaca.jl#L75-L77">source</a></section></article><h3 id="Rank-revealing-LU-decomposition-(rrLU)"><a class="docs-heading-anchor" href="#Rank-revealing-LU-decomposition-(rrLU)">Rank-revealing LU decomposition (rrLU)</a><a id="Rank-revealing-LU-decomposition-(rrLU)-1"></a><a class="docs-heading-anchor-permalink" href="#Rank-revealing-LU-decomposition-(rrLU)" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.:\\-Union{Tuple{T}, Tuple{TensorCrossInterpolation.rrLU{T}, AbstractMatrix{T}}} where T" href="#Base.:\\-Union{Tuple{T}, Tuple{TensorCrossInterpolation.rrLU{T}, AbstractMatrix{T}}} where T"><code>Base.:\</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Override solving Ax = b using LU decomposition</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixlu.jl#L447-L449">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.lastpivoterror-Union{Tuple{TensorCrossInterpolation.rrLU{T}}, Tuple{T}} where T" href="#TensorCrossInterpolation.lastpivoterror-Union{Tuple{TensorCrossInterpolation.rrLU{T}}, Tuple{T}} where T"><code>TensorCrossInterpolation.lastpivoterror</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Correct estimate of the last pivot error A special care is taken for a full-rank matrix: the last pivot error is set to zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixlu.jl#L394-L397">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.rrlu!-Union{Tuple{AbstractMatrix{T}}, Tuple{T}} where T" href="#TensorCrossInterpolation.rrlu!-Union{Tuple{AbstractMatrix{T}}, Tuple{T}} where T"><code>TensorCrossInterpolation.rrlu!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function rrlu!(
    A::AbstractMatrix{T};
    maxrank::Int=typemax(Int),
    reltol::Number=1e-14,
    abstol::Number=0.0,
    leftorthogonal::Bool=true
)::rrLU{T} where {T}</code></pre><p>Rank-revealing LU decomposition.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixlu.jl#L177-L187">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.rrlu-Union{Tuple{AbstractMatrix{T}}, Tuple{T}} where T" href="#TensorCrossInterpolation.rrlu-Union{Tuple{AbstractMatrix{T}}, Tuple{T}} where T"><code>TensorCrossInterpolation.rrlu</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function rrlu(
    A::AbstractMatrix{T};
    maxrank::Int=typemax(Int),
    reltol::Number=1e-14,
    abstol::Number=0.0,
    leftorthogonal::Bool=true
)::rrLU{T} where {T}</code></pre><p>Rank-revealing LU decomposition.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixlu.jl#L200-L210">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.solve-Union{Tuple{T}, Tuple{Matrix{T}, Matrix{T}, Matrix{T}}} where T" href="#TensorCrossInterpolation.solve-Union{Tuple{T}, Tuple{Matrix{T}, Matrix{T}, Matrix{T}}} where T"><code>TensorCrossInterpolation.solve</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Solve (LU) x = b</p><p>L: lower triangular matrix U: upper triangular matrix b: right-hand side vector</p><p>Return x</p><p>Note: Not optimized for performance</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/matrixlu.jl#L404-L414">source</a></section></article><h2 id="Tensor-trains-and-tensor-cross-Interpolation"><a class="docs-heading-anchor" href="#Tensor-trains-and-tensor-cross-Interpolation">Tensor trains and tensor cross Interpolation</a><a id="Tensor-trains-and-tensor-cross-Interpolation-1"></a><a class="docs-heading-anchor-permalink" href="#Tensor-trains-and-tensor-cross-Interpolation" title="Permalink"></a></h2><h3 id="Tensor-train-(TT)"><a class="docs-heading-anchor" href="#Tensor-train-(TT)">Tensor train (TT)</a><a id="Tensor-train-(TT)-1"></a><a class="docs-heading-anchor-permalink" href="#Tensor-train-(TT)" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.AbstractTensorTrain" href="#TensorCrossInterpolation.AbstractTensorTrain"><code>TensorCrossInterpolation.AbstractTensorTrain</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractTensorTrain{V} &lt;: Function end</code></pre><p>Abstract type that is a supertype to all tensor train types found in this module. The main purpose of this type is for the definition of functions such as <a href="#LinearAlgebra.rank-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>rank</code></a> and <a href="#TensorCrossInterpolation.linkdims-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>linkdims</code></a> that are shared between different tensor train classes.</p><p>When iterated over, the tensor train will return each of the tensors in order.</p><p>Implementations: <a href="#TensorCrossInterpolation.TensorTrain"><code>TensorTrain</code></a>, <a href="#TensorCrossInterpolation.TensorCI2"><code>TensorCI2</code></a>, <a href="#TensorCrossInterpolation.TensorCI1"><code>TensorCI1</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L9-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.:+-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V" href="#Base.:+-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V"><code>Base.:+</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function (+)(lhs::AbstractTensorTrain{V}, rhs::AbstractTensorTrain{V}) where {V}</code></pre><p>Addition of two tensor trains. If <code>c = a + b</code>, then <code>c(v) ≈ a(v) + b(v)</code> at each index set <code>v</code>. Note that this function increases the bond dimension, i.e. <span>$\chi_{\text{result}} = \chi_1 + \chi_2$</span> if the original tensor trains had bond dimensions <span>$\chi_1$</span> and <span>$\chi_2$</span>. Can be combined with automatic recompression by calling <a href="#TensorCrossInterpolation.add-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V"><code>add</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L252-L256">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.:--Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V" href="#Base.:--Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V"><code>Base.:-</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function (-)(lhs::AbstractTensorTrain{V}, rhs::AbstractTensorTrain{V}) where {V}</code></pre><p>Subtraction of two tensor trains. If <code>c = a - b</code>, then <code>c(v) ≈ a(v) - b(v)</code> at each index set <code>v</code>. Note that this function increases the bond dimension, i.e. <span>$\chi_{\text{result}} = \chi_1 + \chi_2$</span> if the original tensor trains had bond dimensions <span>$\chi_1$</span> and <span>$\chi_2$</span>. Can be combined with automatic recompression by calling <a href="#TensorCrossInterpolation.subtract-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V"><code>subtract</code></a> (see documentation for <a href="#TensorCrossInterpolation.add-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V"><code>add</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L261-L265">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.length-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V" href="#Base.length-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>Base.length</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function length(tt::AbstractTensorTrain{V}) where {V}</code></pre><p>Length of the tensor train, i.e. the number of tensors in the tensor train.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L91-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.sum-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V" href="#Base.sum-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>Base.sum</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function sum(tt::TensorTrain{V}) where {V}</code></pre><p>Evaluates the sum of the tensor train approximation over all lattice sites in an efficient factorized manner.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L161-L166">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LinearAlgebra.rank-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V" href="#LinearAlgebra.rank-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>LinearAlgebra.rank</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function rank(tt::AbstractTensorTrain{V}) where {V}</code></pre><p>Rank of the tensor train, i.e. the maximum link dimension.</p><p>See also: <a href="#TensorCrossInterpolation.linkdims-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>linkdims</code></a>, <a href="#TensorCrossInterpolation.linkdim-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Int64}} where V"><code>linkdim</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L62-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.add-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V" href="#TensorCrossInterpolation.add-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V"><code>TensorCrossInterpolation.add</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function add(
    lhs::AbstractTensorTrain{V}, rhs::AbstractTensorTrain{V};
    factorlhs=one(V), factorrhs=one(V),
    tolerance::Float64=0.0, maxbonddim::Int=typemax(Int)
) where {V}</code></pre><p>Addition of two tensor trains. If <code>C = add(A, B)</code>, then <code>C(v) ≈ A(v) + B(v)</code> at each index set <code>v</code>. Note that this function increases the bond dimension, i.e. <span>$\chi_{\text{result}} = \chi_1 + \chi_2$</span> if the original tensor trains had bond dimensions <span>$\chi_1$</span> and <span>$\chi_2$</span>.</p><p>Arguments:</p><ul><li><code>lhs</code>, <code>rhs</code>: Tensor trains to be added.</li><li><code>factorlhs</code>, <code>factorrhs</code>: Factors to multiply each tensor train by before addition.</li><li><code>tolerance</code>, <code>maxbonddim</code>: Parameters to be used for the recompression step.</li></ul><p>Returns: A new <code>TensorTrain</code> representing the function <code>factorlhs * lhs(v) + factorrhs * rhs(v)</code>.</p><p>See also: <a href="#Base.:+-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V"><code>+</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L193-L211">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.evaluate-Union{Tuple{V}, Tuple{N}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Union{Tuple{Vararg{Int64, N}}, AbstractVector{Int64}}}} where {N, V}" href="#TensorCrossInterpolation.evaluate-Union{Tuple{V}, Tuple{N}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Union{Tuple{Vararg{Int64, N}}, AbstractVector{Int64}}}} where {N, V}"><code>TensorCrossInterpolation.evaluate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function evaluate(
    tt::TensorTrain{V},
    indexset::Union{AbstractVector{LocalIndex}, NTuple{N, LocalIndex}}
)::V where {N, V}</code></pre><p>Evaluates the tensor train <code>tt</code> at indices given by <code>indexset</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L116-L123">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.evaluate-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, CartesianIndex}} where V" href="#TensorCrossInterpolation.evaluate-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, CartesianIndex}} where V"><code>TensorCrossInterpolation.evaluate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function evaluate(tt::TensorTrain{V}, indexset::CartesianIndex) where {V}</code></pre><p>Evaluates the tensor train <code>tt</code> at indices given by <code>indexset</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L134-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.linkdim-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Int64}} where V" href="#TensorCrossInterpolation.linkdim-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Int64}} where V"><code>TensorCrossInterpolation.linkdim</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function linkdim(tt::AbstractTensorTrain{V}, i::Int)::Int where {V}</code></pre><p>Bond dimensions at the link between tensor <span>$T_i$</span> and <span>$T_{i+1}$</span> in the tensor train.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L35-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.linkdims-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V" href="#TensorCrossInterpolation.linkdims-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>TensorCrossInterpolation.linkdims</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function linkdims(tt::AbstractTensorTrain{V})::Vector{Int} where {V}</code></pre><p>Bond dimensions along the links between <span>$T$</span> tensors in the tensor train.</p><p>See also: <a href="#LinearAlgebra.rank-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>rank</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L24-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.sitedim-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Int64}} where V" href="#TensorCrossInterpolation.sitedim-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Int64}} where V"><code>TensorCrossInterpolation.sitedim</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function linkdim(tt::AbstractTensorTrain{V}, i::Int)::Int where {V}</code></pre><p>Dimension of the <code>i</code>th site index along the tensor train.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L53-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.sitedims-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V" href="#TensorCrossInterpolation.sitedims-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>TensorCrossInterpolation.sitedims</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function sitedims(tt::AbstractTensorTrain{V})::Vector{Vector{Int}} where {V}</code></pre><p>Dimensions of the site indices (local indices, physical indices) of the tensor train.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L44-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.sitetensor-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Any}} where V" href="#TensorCrossInterpolation.sitetensor-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Any}} where V"><code>TensorCrossInterpolation.sitetensor</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sitetensors(tt::AbstractTensorTrain{V}, i) where {V}</code></pre><p>The tensor at site i of the tensor train.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L82-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.sitetensors-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V" href="#TensorCrossInterpolation.sitetensors-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>TensorCrossInterpolation.sitetensors</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sitetensors(tt::AbstractTensorTrain{V}) where {V}</code></pre><p>The tensors that make up the tensor train.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L73-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.subtract-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V" href="#TensorCrossInterpolation.subtract-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V"><code>TensorCrossInterpolation.subtract</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function subtract(
    lhs::AbstractTensorTrain{V}, rhs::AbstractTensorTrain{V};
    tolerance::Float64=0.0, maxbonddim::Int=typemax(Int)
)</code></pre><p>Subtract two tensor trains <code>lhs</code> and <code>rhs</code>. See <a href="#TensorCrossInterpolation.add-Union{Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, TensorCrossInterpolation.AbstractTensorTrain{V}}} where V"><code>add</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/abstracttensortrain.jl#L237-L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.TTCache" href="#TensorCrossInterpolation.TTCache"><code>TensorCrossInterpolation.TTCache</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct TTCache{ValueType, N}</code></pre><p>Cached evalulation of TT</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/cachedtensortrain.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.TensorTrain" href="#TensorCrossInterpolation.TensorTrain"><code>TensorCrossInterpolation.TensorTrain</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct TensorTrain{ValueType}</code></pre><p>Represents a tensor train, also known as MPS.</p><p>The tensor train can be evaluated using standard function call notation:</p><pre><code class="language-julia hljs">    tt = TensorTrain(...)
    value = tt([1, 2, 3, 4])</code></pre><p>The corresponding function is:</p><pre><code class="nohighlight hljs">function (tt::TensorTrain{V})(indexset) where {V}</code></pre><p>Evaluates the tensor train <code>tt</code> at indices given by <code>indexset</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensortrain.jl#L1-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.TensorTrain-Union{Tuple{AbstractVector{&lt;:AbstractArray{V, N}}}, Tuple{N}, Tuple{V}} where {V, N}" href="#TensorCrossInterpolation.TensorTrain-Union{Tuple{AbstractVector{&lt;:AbstractArray{V, N}}}, Tuple{N}, Tuple{V}} where {V, N}"><code>TensorCrossInterpolation.TensorTrain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function TensorTrain(sitetensors::Vector{Array{V, 3}}) where {V}</code></pre><p>Create a tensor train out of a vector of tensors. Each tensor should have links to the previous and next tensor as dimension 1 and 3, respectively; the local index (&quot;physical index&quot; for MPS in physics) is dimension 2.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensortrain.jl#L33-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.TensorTrain-Union{Tuple{N}, Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Any}} where {V, N}" href="#TensorCrossInterpolation.TensorTrain-Union{Tuple{N}, Tuple{V}, Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}, Any}} where {V, N}"><code>TensorCrossInterpolation.TensorTrain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function TensorTrain{N}(tci::AbstractTensorTrain{V}) where {V,N}</code></pre><p>Convert a tensor-train-like object into a tensor train.</p><p>Arguments:</p><ul><li><code>tt::AbstractTensorTrain{V}</code>: a tensor-train-like object.</li><li><code>localdims</code>: a vector of local dimensions for each tensor in the tensor train. A each element of <code>localdims</code> should be an array-like object of <code>N-2</code> integers.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensortrain.jl#L55-L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.TensorTrain-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V" href="#TensorCrossInterpolation.TensorTrain-Union{Tuple{TensorCrossInterpolation.AbstractTensorTrain{V}}, Tuple{V}} where V"><code>TensorCrossInterpolation.TensorTrain</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function TensorTrain(tci::AbstractTensorTrain{V}) where {V}</code></pre><p>Convert a tensor-train-like object into a tensor train. This includes TCI1 and TCI2 objects.</p><p>See also: <a href="#TensorCrossInterpolation.TensorCI1"><code>TensorCI1</code></a>, <a href="#TensorCrossInterpolation.TensorCI2"><code>TensorCI2</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensortrain.jl#L44-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.TensorTrainFit" href="#TensorCrossInterpolation.TensorTrainFit"><code>TensorCrossInterpolation.TensorTrainFit</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Fitting data with a TensorTrain object. This may be useful when the interpolated function is noisy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensortrain.jl#L204-L207">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.compress!-Union{Tuple{TensorTrain{V, N}}, Tuple{N}, Tuple{V}, Tuple{TensorTrain{V, N}, Symbol}} where {V, N}" href="#TensorCrossInterpolation.compress!-Union{Tuple{TensorTrain{V, N}}, Tuple{N}, Tuple{V}, Tuple{TensorTrain{V, N}, Symbol}} where {V, N}"><code>TensorCrossInterpolation.compress!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function compress!(
    tt::TensorTrain{V, N},
    method::Symbol=:LU;
    tolerance::Float64=1e-12,
    maxbonddim=typemax(Int)
) where {V, N}</code></pre><p>Compress the tensor train <code>tt</code> using <code>LU</code>, <code>CI</code> or <code>SVD</code> decompositions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensortrain.jl#L109-L118">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.Contraction" href="#TensorCrossInterpolation.Contraction"><code>TensorCrossInterpolation.Contraction</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Contraction of two TTOs Optionally, the contraction can be done with a function applied to the result.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/contraction.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.contract-Union{Tuple{ValueType}, Tuple{TensorTrain{ValueType, 4}, TensorTrain{ValueType, 4}}} where ValueType" href="#TensorCrossInterpolation.contract-Union{Tuple{ValueType}, Tuple{TensorTrain{ValueType, 4}, TensorTrain{ValueType, 4}}} where ValueType"><code>TensorCrossInterpolation.contract</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function contract(
    A::TensorTrain{ValueType,4},
    B::TensorTrain{ValueType,4};
    algorithm::Symbol=:TCI,
    tolerance::Float64=1e-12,
    maxbonddim::Int=typemax(Int),
    f::Union{Nothing,Function}=nothing,
    kwargs...
) where {ValueType}</code></pre><p>Contract two tensor trains <code>A</code> and <code>B</code>.</p><p>Currently, two implementations are available:</p><ol><li><code>algorithm=:TCI</code> constructs a new TCI that fits the contraction of <code>A</code> and <code>B</code>.</li><li><code>algorithm=:naive</code> uses a naive tensor contraction and subsequent SVD recompression of the tensor train.</li></ol><p>Arguments:</p><ul><li><code>A</code> and <code>B</code> are the tensor trains to be contracted.</li><li><code>algorithm</code> chooses the algorithm used to evaluate the contraction.</li><li><code>tolerance</code> is the tolerance of the TCI or SVD recompression.</li><li><code>maxbonddim</code> sets the maximum bond dimension of the resulting tensor train.</li><li><code>f</code> is a function to be applied elementwise to the result. This option is only available with <code>algorithm=:TCI</code>.</li><li><code>kwargs...</code> are forwarded to <a href="#TensorCrossInterpolation.crossinterpolate2-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Vector{Int64}}}} where {ValueType, N}"><code>crossinterpolate2</code></a> if <code>algorithm=:TCI</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/contraction.jl#L402-L426">source</a></section></article><h3 id="Tensor-cross-interpolation-(TCI)"><a class="docs-heading-anchor" href="#Tensor-cross-interpolation-(TCI)">Tensor cross interpolation (TCI)</a><a id="Tensor-cross-interpolation-(TCI)-1"></a><a class="docs-heading-anchor-permalink" href="#Tensor-cross-interpolation-(TCI)" title="Permalink"></a></h3><p>Note: In most cases, it is advantageous to use <a href="#TensorCrossInterpolation.TensorCI2"><code>TensorCrossInterpolation.TensorCI2</code></a> instead.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.TensorCI1" href="#TensorCrossInterpolation.TensorCI1"><code>TensorCrossInterpolation.TensorCI1</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct TensorCI1{ValueType} &lt;: AbstractTensorTrain{ValueType}</code></pre><p>Type that represents tensor cross interpolations created using the TCI1 algorithm. Users may want to create these using <a href="#TensorCrossInterpolation.crossinterpolate1-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}"><code>crossinterpolate1</code></a> rather than calling a constructor directly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci1.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.addpivot!-Union{Tuple{F}, Tuple{V}, Tuple{TensorCrossInterpolation.TensorCI1{V}, Int64, F}, Tuple{TensorCrossInterpolation.TensorCI1{V}, Int64, F, Float64}} where {V, F}" href="#TensorCrossInterpolation.addpivot!-Union{Tuple{F}, Tuple{V}, Tuple{TensorCrossInterpolation.TensorCI1{V}, Int64, F}, Tuple{TensorCrossInterpolation.TensorCI1{V}, Int64, F, Float64}} where {V, F}"><code>TensorCrossInterpolation.addpivot!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function addpivot!(tci::TensorCI1{V}, p::Int, tolerance::1e-12) where {V,F}</code></pre><p>Add a pivot to the TCI at site <code>p</code>. Do not add a pivot if the error is below tolerance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci1.jl#L312-L316">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.addpivotcol!-Union{Tuple{V}, Tuple{TensorCrossInterpolation.TensorCI1{V}, TensorCrossInterpolation.MatrixCI{V}, Int64, Int64, Any}} where V" href="#TensorCrossInterpolation.addpivotcol!-Union{Tuple{V}, Tuple{TensorCrossInterpolation.TensorCI1{V}, TensorCrossInterpolation.MatrixCI{V}, Int64, Int64, Any}} where V"><code>TensorCrossInterpolation.addpivotcol!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function addpivotcol!(tci::TensorCI1{V}, cross::MatrixCI{V}, p::Int, newj::Int, f) where {V}</code></pre><p>Add the column with index <code>newj</code> as a pivot row to bond <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci1.jl#L294-L298">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.addpivotrow!-Union{Tuple{V}, Tuple{TensorCrossInterpolation.TensorCI1{V}, TensorCrossInterpolation.MatrixCI{V}, Int64, Int64, Any}} where V" href="#TensorCrossInterpolation.addpivotrow!-Union{Tuple{V}, Tuple{TensorCrossInterpolation.TensorCI1{V}, TensorCrossInterpolation.MatrixCI{V}, Int64, Int64, Any}} where V"><code>TensorCrossInterpolation.addpivotrow!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function addpivotrow!(tci::TensorCI1{V}, cross::MatrixCI{V}, p::Int, newi::Int, f) where {V}</code></pre><p>Add the row with index <code>newi</code> as a pivot row to bond <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci1.jl#L276-L280">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.crossinterpolate-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}" href="#TensorCrossInterpolation.crossinterpolate-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}"><code>TensorCrossInterpolation.crossinterpolate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function crossinterpolate(
    ::Type{ValueType},
    f,
    localdims::Union{Vector{Int},NTuple{N,Int}},
    firstpivot::MultiIndex=ones(Int, length(localdims));
    tolerance::Float64=1e-8,
    maxiter::Int=200,
    sweepstrategy::Symbol=:backandforth,
    pivottolerance::Float64=1e-12,
    verbosity::Int=0,
    additionalpivots::Vector{MultiIndex}=MultiIndex[],
    normalizeerror::Bool=true
) where {ValueType, N}</code></pre><p>Deprecated, and only included for backward compatibility. Please use <a href="#TensorCrossInterpolation.crossinterpolate1-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}"><code>crossinterpolate1</code></a> instead.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci1.jl#L555-L571">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.crossinterpolate1-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}" href="#TensorCrossInterpolation.crossinterpolate1-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}"><code>TensorCrossInterpolation.crossinterpolate1</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function crossinterpolate1(
    ::Type{ValueType},
    f,
    localdims::Union{Vector{Int},NTuple{N,Int}},
    firstpivot::MultiIndex=ones(Int, length(localdims));
    tolerance::Float64=1e-8,
    maxiter::Int=200,
    sweepstrategy::Symbol=:backandforth,
    pivottolerance::Float64=1e-12,
    verbosity::Int=0,
    additionalpivots::Vector{MultiIndex}=MultiIndex[],
    normalizeerror::Bool=true
) where {ValueType, N}</code></pre><p>Cross interpolate a function <span>$f(\mathbf{u})$</span>, where <span>$\mathbf{u} \in [1, \ldots, d_1] \times [1, \ldots, d_2] \times \ldots \times [1, \ldots, d_{\mathscr{L}}]$</span> and <span>$d_1 \ldots d_{\mathscr{L}}$</span> are the local dimensions.</p><p>Arguments:</p><ul><li><code>ValueType</code> is the return type of <code>f</code>. Automatic inference is too error-prone.</li><li><code>f</code> is the function to be interpolated. <code>f</code> should have a single parameter, which is a vector of the same length as <code>localdims</code>. The return type should be <code>ValueType</code>.</li><li><code>localdims::Union{Vector{Int},NTuple{N,Int}}</code> is a <code>Vector</code> (or <code>Tuple</code>) that contains the local dimension of each index of <code>f</code>.</li><li><code>firstpivot::MultiIndex</code> is the first pivot, used by the TCI algorithm for initialization. Default: <code>[1, 1, ...]</code>.</li><li><code>tolerance::Float64</code> is a float specifying the tolerance for the interpolation. Default: <code>1e-8</code>.</li><li><code>maxiter::Int</code> is the maximum number of iterations (i.e. optimization sweeps) before aborting the TCI construction. Default: <code>200</code>.</li><li><code>sweepstrategy::Symbol</code> specifies whether to sweep forward (:forward), backward (:backward), or back and forth (:backandforth) during optimization. Default: <code>:backandforth</code>.</li><li><code>pivottolerance::Float64</code> specifies the tolerance below which no new pivot will be added to each tensor. Default: <code>1e-12</code>.</li><li><code>verbosity::Int</code> can be set to <code>&gt;= 1</code> to get convergence information on standard output during optimization. Default: <code>0</code>.</li><li><code>additionalpivots::Vector{MultiIndex}</code> is a vector of additional pivots that the algorithm should add to the initial pivot before starting optimization. This is not necessary in most cases.</li><li><code>normalizeerror::Bool</code> determines whether to scale the error by the maximum absolute value of <code>f</code> found during sampling. If set to <code>false</code>, the algorithm continues until the <em>absolute</em> error is below <code>tolerance</code>. If set to <code>true</code>, the algorithm uses the absolute error divided by the maximum sample instead. This is helpful if the magnitude of the function is not known in advance. Default: <code>true</code>.</li></ul><p>Notes:</p><ul><li>Convergence may depend on the choice of first pivot. A good rule of thumb is to choose <code>firstpivot</code> close to the largest structure in <code>f</code>, or on a maximum of <code>f</code>. If the structure of <code>f</code> is not known in advance, <a href="#TensorCrossInterpolation.optfirstpivot-Union{Tuple{N}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where N"><code>optfirstpivot</code></a> may be helpful.</li><li>By default, no caching takes place. Use the <a href="#TensorCrossInterpolation.CachedFunction"><code>CachedFunction</code></a> wrapper if your function is expensive to evaluate.</li></ul><p>See also: <a href="#TensorCrossInterpolation.optfirstpivot-Union{Tuple{N}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where N"><code>optfirstpivot</code></a>, <a href="#TensorCrossInterpolation.CachedFunction"><code>CachedFunction</code></a>, <a href="#TensorCrossInterpolation.crossinterpolate2-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Vector{Int64}}}} where {ValueType, N}"><code>crossinterpolate2</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci1.jl#L471-L506">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.evaluate-Union{Tuple{V}, Tuple{N}, Tuple{TensorCrossInterpolation.TensorCI1{V}, Union{Tuple{Vararg{Int64, N}}, AbstractVector{Int64}}}} where {N, V}" href="#TensorCrossInterpolation.evaluate-Union{Tuple{V}, Tuple{N}, Tuple{TensorCrossInterpolation.TensorCI1{V}, Union{Tuple{Vararg{Int64, N}}, AbstractVector{Int64}}}} where {N, V}"><code>TensorCrossInterpolation.evaluate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function evaluate(tci::TensorCI1{V}, indexset::AbstractVector{LocalIndex}) where {V}</code></pre><p>Evaluate the TCI at a specific set of indices. This method is inefficient; to evaluate many points, first convert the TCI object into a tensor train using <code>tensortrain(tci)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci1.jl#L169-L173">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.getPi-Union{Tuple{F}, Tuple{V}, Tuple{TensorCrossInterpolation.TensorCI1{V}, Int64, F}} where {V, F}" href="#TensorCrossInterpolation.getPi-Union{Tuple{F}, Tuple{V}, Tuple{TensorCrossInterpolation.TensorCI1{V}, Int64, F}} where {V, F}"><code>TensorCrossInterpolation.getPi</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">buildPiAt(tci::TensorCrossInterpolation{V}, p::Int)</code></pre><p>Build a 4-legged <span>$\Pi$</span> tensor at site <code>p</code>. Indices are in the order <span>$i, u_p, u_{p + 1}, j$</span>, as in the TCI paper.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci1.jl#L195-L199">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.isnested-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}}, Tuple{Vector{T}, Vector{T}, Symbol}} where T" href="#TensorCrossInterpolation.isnested-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}}, Tuple{Vector{T}, Vector{T}, Symbol}} where T"><code>TensorCrossInterpolation.isnested</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return if <code>a</code> is nested in <code>b</code> (<span>$a &lt; b$</span>). If <code>row_or_col</code> is <code>:row</code>/<code>:col</code>, the last/first element of each index in <code>b</code> is ignored, respectively.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/indexset.jl#L57-L60">source</a></section></article><h3 id="Tensor-cross-interpolation-2-(TCI2)"><a class="docs-heading-anchor" href="#Tensor-cross-interpolation-2-(TCI2)">Tensor cross interpolation 2 (TCI2)</a><a id="Tensor-cross-interpolation-2-(TCI2)-1"></a><a class="docs-heading-anchor-permalink" href="#Tensor-cross-interpolation-2-(TCI2)" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.TensorCI2" href="#TensorCrossInterpolation.TensorCI2"><code>TensorCrossInterpolation.TensorCI2</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct TensorCI2{ValueType} &lt;: AbstractTensorTrain{ValueType}</code></pre><p>Type that represents tensor cross interpolations created using the TCI2 algorithm. Users may want to create these using <a href="#TensorCrossInterpolation.crossinterpolate2-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Vector{Int64}}}} where {ValueType, N}"><code>crossinterpolate2</code></a> rather than calling a constructor directly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.addglobalpivots!-Union{Tuple{ValueType}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Vector{Vector{Int64}}}} where ValueType" href="#TensorCrossInterpolation.addglobalpivots!-Union{Tuple{ValueType}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Vector{Vector{Int64}}}} where ValueType"><code>TensorCrossInterpolation.addglobalpivots!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Add global pivots to index sets</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L154-L156">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.addglobalpivots1sitesweep!-Union{Tuple{ValueType}, Tuple{F}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, F, Vector{Vector{Int64}}}} where {F, ValueType}" href="#TensorCrossInterpolation.addglobalpivots1sitesweep!-Union{Tuple{ValueType}, Tuple{F}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, F, Vector{Vector{Int64}}}} where {F, ValueType}"><code>TensorCrossInterpolation.addglobalpivots1sitesweep!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Add global pivots to index sets and perform a 1site sweep</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L180-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.addglobalpivots2sitesweep!-Union{Tuple{ValueType}, Tuple{F}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, F, Vector{Vector{Int64}}}} where {F, ValueType}" href="#TensorCrossInterpolation.addglobalpivots2sitesweep!-Union{Tuple{ValueType}, Tuple{F}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, F, Vector{Vector{Int64}}}} where {F, ValueType}"><code>TensorCrossInterpolation.addglobalpivots2sitesweep!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Add global pivots to index sets and perform a 2site sweep. Retry until all pivots are added or until <code>ntry</code> iterations are reached.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L203-L206">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.crossinterpolate2-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Vector{Int64}}}} where {ValueType, N}" href="#TensorCrossInterpolation.crossinterpolate2-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Vector{Int64}}}} where {ValueType, N}"><code>TensorCrossInterpolation.crossinterpolate2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function crossinterpolate2(
    ::Type{ValueType},
    f,
    localdims::Union{Vector{Int},NTuple{N,Int}},
    initialpivots::Vector{MultiIndex}=[ones(Int, length(localdims))];
    tolerance::Float64=1e-8,
    pivottolerance::Float64=tolerance,
    maxbonddim::Int=typemax(Int),
    maxiter::Int=200,
    sweepstrategy::Symbol=:backandforth,
    pivotsearch::Symbol=:full,
    verbosity::Int=0,
    loginterval::Int=10,
    normalizeerror::Bool=true,
    ncheckhistory=3,
    maxnglobalpivot::Int=5,
    nsearchglobalpivot::Int=5,
    tolmarginglobalsearch::Float64=10.0,
    strictlynested::Bool=false
) where {ValueType,N}</code></pre><p>Cross interpolate a function <span>$f(\mathbf{u})$</span> using the TCI2 algorithm. Here, the domain of <span>$f$</span> is <span>$\mathbf{u} \in [1, \ldots, d_1] \times [1, \ldots, d_2] \times \ldots \times [1, \ldots, d_{\mathscr{L}}]$</span> and <span>$d_1 \ldots d_{\mathscr{L}}$</span> are the local dimensions.</p><p>Arguments:</p><ul><li><code>ValueType</code> is the return type of <code>f</code>. Automatic inference is too error-prone.</li><li><code>f</code> is the function to be interpolated. <code>f</code> should have a single parameter, which is a vector of the same length as <code>localdims</code>. The return type should be <code>ValueType</code>.</li><li><code>localdims::Union{Vector{Int},NTuple{N,Int}}</code> is a <code>Vector</code> (or <code>Tuple</code>) that contains the local dimension of each index of <code>f</code>.</li><li><code>initialpivots::Vector{MultiIndex}</code> is a vector of pivots to be used for initialization. Default: <code>[1, 1, ...]</code>.</li><li><code>tolerance::Float64</code> is a float specifying the target tolerance for the interpolation. Default: <code>1e-8</code>.</li><li><code>pivottolerance::Float64</code> is a float that specifies the tolerance for adding new pivots, i.e. the truncation of tensor train bonds. It should be &lt;= tolerance, otherwise convergence may be impossible. Default: <code>tolerance</code>.</li><li><code>maxbonddim::Int</code> specifies the maximum bond dimension for the TCI. Default: <code>typemax(Int)</code>, i.e. effectively unlimited.</li><li><code>maxiter::Int</code> is the maximum number of iterations (i.e. optimization sweeps) before aborting the TCI construction. Default: <code>200</code>.</li><li><code>sweepstrategy::Symbol</code> specifies whether to sweep forward (:forward), backward (:backward), or back and forth (:backandforth) during optimization. Default: <code>:backandforth</code>.</li><li><code>pivotsearch::Symbol</code> determins how pivots are searched (<code>:full</code> or <code>:rook</code>). Default: <code>:full</code>.</li><li><code>verbosity::Int</code> can be set to <code>&gt;= 1</code> to get convergence information on standard output during optimization. Default: <code>0</code>.</li><li><code>loginterval::Int</code> can be set to <code>&gt;= 1</code> to specify how frequently to print convergence information. Default: <code>10</code>.</li><li><code>normalizeerror::Bool</code> determines whether to scale the error by the maximum absolute value of <code>f</code> found during sampling. If set to <code>false</code>, the algorithm continues until the <em>absolute</em> error is below <code>tolerance</code>. If set to <code>true</code>, the algorithm uses the absolute error divided by the maximum sample instead. This is helpful if the magnitude of the function is not known in advance. Default: <code>true</code>.</li><li><code>ncheckhistory::Int</code> is the number of history points to use for convergence checks. Default: <code>3</code>.</li><li><code>maxnglobalpivot::Int</code> can be set to <code>&gt;= 0</code>. Default: <code>5</code>.</li><li><code>nsearchglobalpivot::Int</code> can be set to <code>&gt;= 0</code>. Default: <code>5</code>.</li><li><code>tolmarginglobalsearch</code> can be set to <code>&gt;= 1.0</code>. Seach global pivots where the interpolation error is larger than the tolerance by <code>tolmarginglobalsearch</code>.  Default: <code>10.0</code>.</li><li><code>strictlynested::Bool=false</code> determines whether to preserve partial nesting in the TCI algorithm. Default: <code>true</code>.</li><li><code>checkbatchevaluatable::Bool</code> Check if the function <code>f</code> is batch evaluatable. Default: <code>false</code>.</li></ul><p>Notes:</p><ul><li>Set <code>tolerance</code> to be &gt; 0 or <code>maxbonddim</code> to some reasonable value. Otherwise, convergence is not reachable.</li><li>By default, no caching takes place. Use the <a href="#TensorCrossInterpolation.CachedFunction"><code>CachedFunction</code></a> wrapper if your function is expensive to evaluate.</li></ul><p>See also: <a href="#TensorCrossInterpolation.optimize!-Union{Tuple{ValueType}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Any}} where ValueType"><code>optimize!</code></a>, <a href="#TensorCrossInterpolation.optfirstpivot-Union{Tuple{N}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where N"><code>optfirstpivot</code></a>, <a href="#TensorCrossInterpolation.CachedFunction"><code>CachedFunction</code></a>, <a href="#TensorCrossInterpolation.crossinterpolate1-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}"><code>crossinterpolate1</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L834-L885">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.invalidatesitetensors!-Union{Tuple{TensorCrossInterpolation.TensorCI2{T}}, Tuple{T}} where T" href="#TensorCrossInterpolation.invalidatesitetensors!-Union{Tuple{TensorCrossInterpolation.TensorCI2{T}}, Tuple{T}} where T"><code>TensorCrossInterpolation.invalidatesitetensors!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Invalidate the site tensor at bond <code>b</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L69-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.issitetensorsavailable-Union{Tuple{TensorCrossInterpolation.TensorCI2{T}}, Tuple{T}} where T" href="#TensorCrossInterpolation.issitetensorsavailable-Union{Tuple{TensorCrossInterpolation.TensorCI2{T}}, Tuple{T}} where T"><code>TensorCrossInterpolation.issitetensorsavailable</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return if site tensors are available</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L79-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.optimize!-Union{Tuple{ValueType}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Any}} where ValueType" href="#TensorCrossInterpolation.optimize!-Union{Tuple{ValueType}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Any}} where ValueType"><code>TensorCrossInterpolation.optimize!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function optimize!(
    tci::TensorCI2{ValueType},
    f;
    tolerance::Float64=1e-8,
    pivottolerance::Float64=tolerance,
    maxbonddim::Int=typemax(Int),
    maxiter::Int=200,
    sweepstrategy::Symbol=:backandforth,
    pivotsearch::Symbol=:full,
    verbosity::Int=0,
    loginterval::Int=10,
    normalizeerror::Bool=true,
    ncheckhistory=3,
    maxnglobalpivot::Int=5,
    nsearchglobalpivot::Int=5,
    tolmarginglobalsearch::Float64=10.0,
    strictlynested::Bool=false
) where {ValueType}</code></pre><p>Perform optimization sweeps using the TCI2 algorithm. This will sucessively improve the TCI approximation of a function until it fits <code>f</code> with an error smaller than <code>tolerance</code>, or until the maximum bond dimension (<code>maxbonddim</code>) is reached.</p><p>Arguments:</p><ul><li><code>tci::TensorCI2{ValueType}</code>: The TCI to optimize.</li><li><code>f</code>: The function to fit.</li><li><code>f</code> is the function to be interpolated. <code>f</code> should have a single parameter, which is a vector of the same length as <code>localdims</code>. The return type should be <code>ValueType</code>.</li><li><code>localdims::Union{Vector{Int},NTuple{N,Int}}</code> is a <code>Vector</code> (or <code>Tuple</code>) that contains the local dimension of each index of <code>f</code>.</li><li><code>tolerance::Float64</code> is a float specifying the target tolerance for the interpolation. Default: <code>1e-8</code>.</li><li><code>maxbonddim::Int</code> specifies the maximum bond dimension for the TCI. Default: <code>typemax(Int)</code>, i.e. effectively unlimited.</li><li><code>maxiter::Int</code> is the maximum number of iterations (i.e. optimization sweeps) before aborting the TCI construction. Default: <code>200</code>.</li><li><code>sweepstrategy::Symbol</code> specifies whether to sweep forward (:forward), backward (:backward), or back and forth (:backandforth) during optimization. Default: <code>:backandforth</code>.</li><li><code>pivotsearch::Symbol</code> determins how pivots are searched (<code>:full</code> or <code>:rook</code>). Default: <code>:full</code>.</li><li><code>verbosity::Int</code> can be set to <code>&gt;= 1</code> to get convergence information on standard output during optimization. Default: <code>0</code>.</li><li><code>loginterval::Int</code> can be set to <code>&gt;= 1</code> to specify how frequently to print convergence information. Default: <code>10</code>.</li><li><code>normalizeerror::Bool</code> determines whether to scale the error by the maximum absolute value of <code>f</code> found during sampling. If set to <code>false</code>, the algorithm continues until the <em>absolute</em> error is below <code>tolerance</code>. If set to <code>true</code>, the algorithm uses the absolute error divided by the maximum sample instead. This is helpful if the magnitude of the function is not known in advance. Default: <code>true</code>.</li><li><code>ncheckhistory::Int</code> is the number of history points to use for convergence checks. Default: <code>3</code>.</li><li><code>maxnglobalpivot::Int</code> can be set to <code>&gt;= 0</code>. Default: <code>5</code>.</li><li><code>nsearchglobalpivot::Int</code> can be set to <code>&gt;= 0</code>. Default: <code>5</code>.</li><li><code>tolmarginglobalsearch</code> can be set to <code>&gt;= 1.0</code>. Seach global pivots where the interpolation error is larger than the tolerance by <code>tolmarginglobalsearch</code>.  Default: <code>10.0</code>.</li><li><code>strictlynested::Bool</code> determines whether to preserve partial nesting in the TCI algorithm. Default: <code>false</code>.</li><li><code>checkbatchevaluatable::Bool</code> Check if the function <code>f</code> is batch evaluatable. Default: <code>false</code>.</li></ul><p>Notes:</p><ul><li>Set <code>tolerance</code> to be &gt; 0 or <code>maxbonddim</code> to some reasonable value. Otherwise, convergence is not reachable.</li><li>By default, no caching takes place. Use the <a href="#TensorCrossInterpolation.CachedFunction"><code>CachedFunction</code></a> wrapper if your function is expensive to evaluate.</li></ul><p>See also: <a href="#TensorCrossInterpolation.crossinterpolate2-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Vector{Int64}}}} where {ValueType, N}"><code>crossinterpolate2</code></a>, <a href="#TensorCrossInterpolation.optfirstpivot-Union{Tuple{N}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where N"><code>optfirstpivot</code></a>, <a href="#TensorCrossInterpolation.CachedFunction"><code>CachedFunction</code></a>, <a href="#TensorCrossInterpolation.crossinterpolate1-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}"><code>crossinterpolate1</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L594-L642">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.printnestinginfo-Union{Tuple{TensorCrossInterpolation.TensorCI2{T}}, Tuple{T}} where T" href="#TensorCrossInterpolation.printnestinginfo-Union{Tuple{TensorCrossInterpolation.TensorCI2{T}}, Tuple{T}} where T"><code>TensorCrossInterpolation.printnestinginfo</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function printnestinginfo(tci::TensorCI2{T}) where {T}</code></pre><p>Print information about fulfillment of the nesting criterion (<span>$I_\ell &lt; I_{\ell+1}$</span> and <span>$J_\ell &lt; J_{\ell+1}$</span>) on each pair of bonds <span>$\ell, \ell+1$</span> of <code>tci</code> to stdout.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L56-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.printnestinginfo-Union{Tuple{T}, Tuple{IO, TensorCrossInterpolation.TensorCI2{T}}} where T" href="#TensorCrossInterpolation.printnestinginfo-Union{Tuple{T}, Tuple{IO, TensorCrossInterpolation.TensorCI2{T}}} where T"><code>TensorCrossInterpolation.printnestinginfo</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function printnestinginfo(io::IO, tci::TensorCI2{T}) where {T}</code></pre><p>Print information about fulfillment of the nesting criterion (<span>$I_\ell &lt; I_{\ell+1}$</span> and <span>$J_\ell &lt; J_{\ell+1}$</span>) on each pair of bonds <span>$\ell, \ell+1$</span> of <code>tci</code> to <code>io</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L87-L91">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.searchglobalpivots-Union{Tuple{ValueType}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Any, Any}} where ValueType" href="#TensorCrossInterpolation.searchglobalpivots-Union{Tuple{ValueType}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Any, Any}} where ValueType"><code>TensorCrossInterpolation.searchglobalpivots</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Search global pivots where the interpolation error exceeds <code>abstol</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L899-L901">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.sweep2site!-Union{Tuple{ValueType}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Any, Int64}} where ValueType" href="#TensorCrossInterpolation.sweep2site!-Union{Tuple{ValueType}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Any, Int64}} where ValueType"><code>TensorCrossInterpolation.sweep2site!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Perform 2site sweeps on a TCI2.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L768-L770">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.updatepivots!-Union{Tuple{ValueType}, Tuple{F}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Int64, F, Bool}} where {F, ValueType}" href="#TensorCrossInterpolation.updatepivots!-Union{Tuple{ValueType}, Tuple{F}, Tuple{TensorCrossInterpolation.TensorCI2{ValueType}, Int64, F, Bool}} where {F, ValueType}"><code>TensorCrossInterpolation.updatepivots!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update pivots at bond <code>b</code> of <code>tci</code> using the TCI2 algorithm. Site tensors will be invalidated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/tensorci2.jl#L469-L472">source</a></section></article><h3 id="Integration"><a class="docs-heading-anchor" href="#Integration">Integration</a><a id="Integration-1"></a><a class="docs-heading-anchor-permalink" href="#Integration" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.integrate-Union{Tuple{ValueType}, Tuple{Type{ValueType}, Any, Vector{ValueType}, Vector{ValueType}}} where ValueType" href="#TensorCrossInterpolation.integrate-Union{Tuple{ValueType}, Tuple{Type{ValueType}, Any, Vector{ValueType}, Vector{ValueType}}} where ValueType"><code>TensorCrossInterpolation.integrate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function integrate(
    ::Type{ValueType},
    f,
    a::Vector{ValueType},
    b::Vector{ValueType};
    tolerance=1e-8,
    GKorder::Int=15
) where {ValueType}</code></pre><p>Integrate the function <code>f</code> using TCI and Gauss–Kronrod quadrature rules.</p><p>Arguments:</p><ul><li><code>ValueType</code><code>: return type of</code>f`.</li><li><code>a</code>`: Vector of lower bounds in each dimension. Effectively, the lower corner of the hypercube that is being integrated over.</li><li><code>b</code>`: Vector of upper bounds in each dimension.</li><li><code>tolerance</code>: tolerance of the TCI approximation for the values of f.</li><li><code>GKorder</code>: Order of the Gauss–Kronrod rule, e.g. 15.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/integration.jl#L1-L19">source</a></section></article><h2 id="Helpers-and-utility-methods"><a class="docs-heading-anchor" href="#Helpers-and-utility-methods">Helpers and utility methods</a><a id="Helpers-and-utility-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Helpers-and-utility-methods" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.CachedFunction" href="#TensorCrossInterpolation.CachedFunction"><code>TensorCrossInterpolation.CachedFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Represents a function that maps ArgType -&gt; ValueType and automatically caches function values. A <code>CachedFunction</code> object can be called in the same way as the original function using the usual function call syntax. The type <code>K</code> denotes the type of the keys used to cache function values, which could be an integer type. This defaults to <code>UInt128</code>. A safer but slower alternative is <code>BigInt</code>, which is better suited for functions with a large number of arguments. <code>CachedFunction</code> does not support batch evaluation of function values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/cachedfunction.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.CachedFunction-Union{Tuple{K}, Tuple{ValueType}, Tuple{Function, Vector{Int64}}} where {ValueType, K}" href="#TensorCrossInterpolation.CachedFunction-Union{Tuple{K}, Tuple{ValueType}, Tuple{Function, Vector{Int64}}} where {ValueType, K}"><code>TensorCrossInterpolation.CachedFunction</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function CachedFunction{ValueType}(
    f::Function,
    localdims::Vector{Int}
) where {ValueType}</code></pre><p>Constructor for a cached function that avoids repeated evaluation of the same values.</p><p>Arguments:</p><ul><li><code>ValueType</code> is the return type of <code>f</code>.</li><li><code>K</code> is the type for the keys used to cache function values. This defaults to <code>UInt128</code>.</li><li><code>f</code> is the function to be wrapped. It should take a vector of integers as its sole</li></ul><p>argument, and return a value of type <code>ValueType</code>.</p><ul><li><code>localdims</code> is a Vector that describes the local dimensions of each argument of <code>f</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/cachedfunction.jl#L31-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.cachedata-Union{Tuple{TensorCrossInterpolation.CachedFunction{ValueType, K}}, Tuple{K}, Tuple{ValueType}} where {ValueType, K}" href="#TensorCrossInterpolation.cachedata-Union{Tuple{TensorCrossInterpolation.CachedFunction{ValueType, K}}, Tuple{K}, Tuple{ValueType}} where {ValueType, K}"><code>TensorCrossInterpolation.cachedata</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Get all cached data of a <code>CachedFunction</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/cachedfunction.jl#L189-L191">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.ThreadedBatchEvaluator" href="#TensorCrossInterpolation.ThreadedBatchEvaluator"><code>TensorCrossInterpolation.ThreadedBatchEvaluator</code></a> — <span class="docstring-category">Type</span></header><section><div><p>ThreadedBatchEvaluator{T} is a wrapper for a function that supports batch evaluation parallelized over the index sets using threads. The function to be wrapped must be thread-safe.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/batcheval.jl#L60-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation._batchevaluate_dispatch-Union{Tuple{M}, Tuple{V}, Tuple{Type{V}, Any, Vector{Int64}, AbstractVector{Vector{Int64}}, AbstractVector{Vector{Int64}}, Val{M}}} where {V, M}" href="#TensorCrossInterpolation._batchevaluate_dispatch-Union{Tuple{M}, Tuple{V}, Tuple{Type{V}, Any, Vector{Int64}, AbstractVector{Vector{Int64}}, AbstractVector{Vector{Int64}}, Val{M}}} where {V, M}"><code>TensorCrossInterpolation._batchevaluate_dispatch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>This file contains functions for evaluating a function on a batch of indices mainly for TensorCI2. If the function supports batch evaluation, then it should implement the <code>BatchEvaluator</code> interface. Otherwise, the function is evaluated on each index individually using the usual function call syntax and loops.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/batcheval.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation._batchevaluate_dispatch-Union{Tuple{M}, Tuple{V}, Tuple{Type{V}, TensorCrossInterpolation.BatchEvaluator{V}, Vector{Int64}, Vector{Vector{Int64}}, Vector{Vector{Int64}}, Val{M}}} where {V, M}" href="#TensorCrossInterpolation._batchevaluate_dispatch-Union{Tuple{M}, Tuple{V}, Tuple{Type{V}, TensorCrossInterpolation.BatchEvaluator{V}, Vector{Int64}, Vector{Vector{Int64}}, Vector{Vector{Int64}}, Val{M}}} where {V, M}"><code>TensorCrossInterpolation._batchevaluate_dispatch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Calling <code>batchevaluate</code> on a function that supports batch evaluation will dispatch to this function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/batcheval.jl#L38-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.optfirstpivot-Union{Tuple{N}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where N" href="#TensorCrossInterpolation.optfirstpivot-Union{Tuple{N}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where N"><code>TensorCrossInterpolation.optfirstpivot</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function optfirstpivot(
    f,
    localdims::Union{Vector{Int},NTuple{N,Int}},
    firstpivot::MultiIndex=ones(Int, length(localdims));
    maxsweep=1000
) where {N}</code></pre><p>Optimize the first pivot for a tensor cross interpolation.</p><p>Arguments:</p><ul><li><code>f</code> is function to be interpolated.</li><li><code>localdims::Union{Vector{Int},NTuple{N,Int}}</code> determines the local dimensions of the function parameters (see <a href="#TensorCrossInterpolation.crossinterpolate1-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}"><code>crossinterpolate1</code></a>).</li><li><code>fistpivot::MultiIndex=ones(Int, length(localdims))</code> is the starting point for the optimization. It is advantageous to choose it close to a global maximum of the function.</li><li><code>maxsweep</code> is the maximum number of optimization sweeps. Default: <code>1000</code>.</li></ul><p>See also: <a href="#TensorCrossInterpolation.crossinterpolate1-Union{Tuple{N}, Tuple{ValueType}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}}, Tuple{Type{ValueType}, Any, Union{Tuple{Vararg{Int64, N}}, Vector{Int64}}, Vector{Int64}}} where {ValueType, N}"><code>crossinterpolate1</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/util.jl#L60-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TensorCrossInterpolation.estimatetrueerror-Union{Tuple{ValueType}, Tuple{TensorTrain{ValueType, 3}, Any}} where ValueType" href="#TensorCrossInterpolation.estimatetrueerror-Union{Tuple{ValueType}, Tuple{TensorTrain{ValueType, 3}, Any}} where ValueType"><code>TensorCrossInterpolation.estimatetrueerror</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">function estimatetrueerror(
    tt::TensorTrain{ValueType,3}, f;
    nsearch::Int = 100,
    initialpoints::Union{Nothing,AbstractVector{MultiIndex}} = nothing,
)::Vector{Tuple{MultiIndex,Float64}} where {ValueType}</code></pre><p>Estimate the global error by comparing the exact function value and the TT approximation using a greedy algorithm and returns a unique list of pairs of the pivot and the error (error is the absolute difference between the exact function value and the TT approximation). On return, the list is sorted in descending order of the error.</p><p>Arguments:</p><ul><li><code>tt::TensorTrain{ValueType,3}</code>: The tensor train to be compared with <code>f</code></li><li><code>f</code>: The function to be compared with <code>tt</code>.</li><li><code>nsearch::Int</code>: The number of initial points to be used in the search (defaults to 100).</li><li><code>initialpoints::Union{Nothing,AbstractVector{MultiIndex}}</code>: The initial points to be used in the search (defaults to <code>nothing</code>). If <code>initialpoints</code> is not <code>nothing</code>, <code>nsearch</code> is ignored.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tensor4all/TensorCrossInterpolation.jl/blob/4be3b5e0328538b4a8573803bcac8421e48c81ed/src/globalsearch.jl#L1-L17">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../implementation/">Implementation details »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Thursday 23 May 2024 20:04">Thursday 23 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
